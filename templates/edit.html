{% extends "base.html" %}
{% block content %}
<div class="content-card" style="max-width: 600px; margin: 0 auto;">
    <div class="page-header">
        <h2>
            <i class="fas fa-edit"></i>
            Edit Student
        </h2>
    </div>
    
    <form method="POST" enctype="multipart/form-data">
        <div class="mb-3">
            <label class="form-label">
                <i class="fas fa-image"></i> Profile Photo
            </label>
            
            {% if student['image'] %}
                <div class="mb-2">
                    <img src="{{ url_for('static', filename='uploads/' + student['image']) }}" 
                         id="currentImage"
                         alt="{{ student['name'] }}" 
                         style="max-width: 200px; border-radius: 10px; border: 2px solid #e2e8f0;">
                </div>
            {% endif %}
            
            <input type="file" name="image" class="form-control" accept="image/*" onchange="previewImage(event)">
            <small class="text-muted">Leave empty to keep current image. Accepted formats: PNG, JPG, JPEG, GIF (Max 5MB)</small>
            
            <div id="imagePreview" class="mt-3" style="display: none;">
                <p class="text-muted"><strong>New image preview:</strong></p>
                <img id="preview" src="" alt="Preview" style="max-width: 200px; border-radius: 10px; border: 2px solid #e2e8f0;">
            </div>
        </div>
        
        <div class="mb-3">
            <label class="form-label">
                <i class="fas fa-user"></i> Full Name
            </label>
            <input type="text" name="name" class="form-control" value="{{ student['name'] }}" placeholder="Enter student's full name" required>
        </div>
        
        <div class="mb-3">
            <label class="form-label">
                <i class="fas fa-birthday-cake"></i> Age
            </label>
            <input type="number" name="age" class="form-control" value="{{ student['age'] }}" placeholder="Enter student's age" min="1" max="100" required>
        </div>
        
        <div class="mb-3">
            <label class="form-label">
                <i class="fas fa-map-marker-alt"></i> City
            </label>
            <input type="text" name="city" class="form-control" value="{{ student['city'] }}" placeholder="Enter student's city" required>
        </div>
        
        <div class="d-flex gap-2">
            <button type="submit" class="btn btn-success">
                <i class="fas fa-save"></i> Update Student
            </button>
            <a href="{{ url_for('index') }}" class="btn btn-secondary">
                <i class="fas fa-times"></i> Cancel
            </a>
        </div>
    </form>
</div>
{% endblock %}